<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session Details</title>
</head>
<body>
    <%- include('../partials/navbar') %>

    <h2>Session Details</h2>
    <p><strong>Sport:</strong> <%= session.sport.name %></p>
    <p><strong>Location:</strong> <%= session.location %></p>
    <p><strong>Start Time:</strong> <%= session.startTime %></p>
    <p><strong>End Time:</strong> <%= session.endTime %></p>

    <% if (user.role === 'player') { %>
        <% if (session.players.includes(user.id)) { %>
            <form action="/session/<%= session.id %>/cancel" method="POST">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                <button type="submit">Cancel Session</button>
            </form>
        <% } else { %>
            <form action="/session/<%= session.id %>/join" method="POST">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                <button type="submit">Join Session</button>
            </form>
        <% } %>
    <% } %>

    <%- include('../partials/footer') %>
</body>
</html>
